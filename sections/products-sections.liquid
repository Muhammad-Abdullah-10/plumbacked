{% comment %} {% assign desktopperrow = section.settings.numberofproducts %}
<style>
    @media (min-width:992px) {
        .prodcuts-wrapper .display-grid {
            grid-template-columns: repeat( 4, 1fr);
            {% if desktopperrow > 4 %}
                grid-template-rows: repeat(2, 1fr);
            {% endif %}
            
        }
    }
</style> {% endcomment %}
<!-- products -->

  <div class="container max-1320 w-100 p-0 best-seller-wrapper">
    <div class="row max-1320 w-100">
      <h2 class="best-seller text-center">{{ section.settings.gridHeading }}</h2>
    </div>
  </div>

  <div class="container max-1320 w-100 p-0 filter-wrapper my-md-3 my-lg-5">
    <div class="row max-1320 w-100 filter-row">
      <div class="filters w-50">
        <a href="javascript:void(0)" data-collection-handle="all" class="filter-name active">All</a>
        <a href="javascript:void(0)" data-collection-handle="{{ section.settings.collectionone.title }}" class="filter-name">{{ section.settings.collectionone.title }}</a>
        <a href="javascript:void(0)" data-collection-handle="{{ section.settings.collectiontwo.title }}" class="filter-name">{{ section.settings.collectiontwo.title }}</a>
        <a href="javascript:void(0)" data-collection-handle="{{ section.settings.collectionthree.title }}" class="filter-name">{{ section.settings.collectionthree.title }}</a>
      </div>
      <div class="show-all-button w-50">
        <a href="{{ shop.url }}">Show All</a>
      </div>
    </div>
  </div>
    
 
    
    <!-- products -->
    <div id="product-container">
        {% comment %} {% assign collection = collections[section.settings.all_products] %} {% endcomment %}
        {% render 'collection-products' %}
      </div> 
    <!-- products -->

  {% schema %}
  {
    "name": "Products Grid",
    "settings": [
        {
            "type": "range",
            "id": "numberofproducts",
            "min": 4,
            "max": 8,
            "label": "Products to Show",
            "default": 4
         },
         {
            "type": "collection",
            "id": "collectionone",
            "label": "Collection One"
         },
         {
            "type": "collection",
            "id": "collectiontwo",
            "label": "Collection Two"
         },
         {
            "type": "collection",
            "id": "collectionthree",
            "label": "Collection Three"
         },
         {
            "type": "text",
            "id": "gridHeading",
            "label" : "Heading Section",
            "default" : "Best Seller" 
            
         }
        ],

    "presets": [
        {
        "name": "Products Grid"
        }
    ]
  }
  {% endschema %}

{% javascript %}
    $(document).ready(function() {
      $('.filters a').on('click', function() {
        var collectionHandle = $(this).data('collection-handle');
    
        $.ajax({
          url: '/collections/' + collectionHandle + '?view=collection-products',
          type: 'GET',
          success: function(data) {
           var a =  $('#product-container').html(data);
            console.log(a);
          },
          error: function(error) {
            console.error('There was an error loading the products:', error);
          }
        });
      });
    });
{% endjavascript %}